{"ast":null,"code":"var _jsxFileName = \"/home/phuocnghia712/PBL6_Toystore/client/src/components/wishlist/wishlist.js\";\nimport React, { useContext, useState, useEffect } from 'react';\nimport { GlobalState } from '../../../GlobalState';\nimport axios from 'axios';\nimport { render } from 'react-dom';\nimport { Link } from 'react-router-dom';\nimport unlike from \"../../../img/unlike.svg\";\n\nfunction Wlist() {\n  const state = useContext(GlobalState);\n  const [wishlist, setWishlist] = state.userAPI.wishlist;\n  const [token] = state.token;\n  const addCart = state.userAPI.addCart; //add to wishlist\n\n  const addToWishlist = async wishlist => {\n    //\n    await axios.patch('/user/addwishlist', {\n      wishlist\n    }, {\n      headers: {\n        Authorization: token\n      }\n    });\n  }; //\n\n\n  const removeProduct = id => {\n    if (window.confirm(\"Remove from your wish list?\")) {\n      wishlist.forEach((item, index) => {\n        if (item._id === id) {\n          wishlist.splice(index, 1);\n        }\n      });\n      setWishlist([...wishlist]);\n      addToWishlist(wishlist);\n    }\n  };\n\n  if (wishlist.length === 0) return /*#__PURE__*/React.createElement(\"h2\", {\n    style: {\n      textAlign: \"center\",\n      fontSize: \"5rem\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 17\n    }\n  }, \"Wishlist Empty\");\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Wishlist\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"pagename\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }\n  }, \"The Product You Liked\"), wishlist.map(product => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"detail wishlist\",\n    key: product._id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"desimgcart\",\n    src: product.images.url,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"box-detail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 29\n    }\n  }, product.title), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 29\n    }\n  }, \"$ \", product.price * product.quantity), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 29\n    }\n  }, product.description), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 29\n    }\n  }, product.content), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"wishlistbtn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"wishlistbtn1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    id: \"btn_buy_ws\",\n    to: \"#!\",\n    onClick: () => addCart(product),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 29\n    }\n  }, \"Add to Cart\"), /*#__PURE__*/React.createElement(Link, {\n    id: \"btn_view_ws\",\n    to: `/detail/${product._id}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 29\n    }\n  }, \"Detail\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"wishlistbtn2\",\n    onClick: () => removeProduct(product._id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 33\n    }\n  }, \"Unlike\"), /*#__PURE__*/React.createElement(\"img\", {\n    src: unlike,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 33\n    }\n  })))))));\n}\n\nexport default Wlist;","map":{"version":3,"sources":["/home/phuocnghia712/PBL6_Toystore/client/src/components/wishlist/wishlist.js"],"names":["React","useContext","useState","useEffect","GlobalState","axios","render","Link","Wlist","state","wishlist","setWishlist","userAPI","token","addCart","addToWishlist","patch","headers","Authorization","removeProduct","id","window","confirm","forEach","item","index","_id","splice","length","textAlign","fontSize","map","product","images","url","title","price","quantity","description","content","unlike"],"mappings":"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","sourcesContent":["import React, {useContext, useState, useEffect} from 'react'\nimport {GlobalState} from '../../../GlobalState'\nimport axios from 'axios'\nimport { render } from 'react-dom'\nimport { Link } from 'react-router-dom'\nimport unlike from '../../../img/unlike.svg'\n\nfunction Wlist() {\n    const state = useContext(GlobalState)\n    const [wishlist, setWishlist] = state.userAPI.wishlist\n    const [token] = state.token\n    const addCart = state.userAPI.addCart\n\n    //add to wishlist\n    const addToWishlist = async(wishlist) => {\n        //\n        await axios.patch('/user/addwishlist', {wishlist}, {\n            headers: {Authorization: token}\n        })\n    }\n    //\n    const removeProduct = id =>{\n        if(window.confirm(\"Remove from your wish list?\")){\n            wishlist.forEach((item, index) => {\n                if(item._id === id){\n                    wishlist.splice(index, 1)\n                }\n            })\n\n            setWishlist([...wishlist])\n            addToWishlist(wishlist)\n        }}\n        \n        if(wishlist.length === 0) \n        return (<h2 style={{textAlign: \"center\", fontSize: \"5rem\"}}>Wishlist Empty</h2> )\n\n         return (\n        <div className=\"Wishlist\">\n            <h3 className=\"pagename\">The Product You Liked</h3>\n            {   \n                wishlist.map(product => (\n                    <div className=\"detail wishlist\" key={product._id}>\n                       \n                        <img className=\"desimgcart\" src={product.images.url} alt=\"\" />\n\n                        <div className=\"box-detail\">\n                            <h2>{product.title}</h2>\n\n                            <h3>$ {product.price * product.quantity}</h3>\n                            <p>{product.description}</p>\n                            <p>{product.content}</p>\n\n                            <div className=\"wishlistbtn\">\n                            <div className=\"wishlistbtn1\">        \n                            <Link id=\"btn_buy_ws\" to=\"#!\" onClick={() => addCart(product)}>\n                                Add to Cart\n                            </Link>\n                            <Link id=\"btn_view_ws\" to={`/detail/${product._id}`}>\n                                Detail\n                            </Link>   \n                            </div>\n                            <div className=\"wishlistbtn2\"\n                            onClick={() => removeProduct(product._id)}\n                            >\n                                <h3>Unlike</h3>\n                                <img src={unlike}></img>\n                            </div>\n                            </div>\n                            \n                            \n                        </div>\n                    </div>\n                ))\n            }\n\n         \n        </div>\n    )\n    \n}\n\nexport default Wlist"]},"metadata":{},"sourceType":"module"}