{"ast":null,"code":"var _jsxFileName = \"/home/phuocnghia712/PBL6_Toystore/client/src/components/mainpages/auth/Register.js\";\nimport React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport { isEmpty } from '../../untils/check/check'; ////initial state\n\nconst initialState = {\n  name: '',\n  email: '',\n  password: '',\n  repassword: '',\n  err: '',\n  success: ''\n};\n\nfunction Register() {\n  const [user, setUser] = useState({\n    initialState\n  });\n  const {\n    name,\n    email,\n    password,\n    repassword,\n    err,\n    success\n  } = user;\n\n  const onChangeInput = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setUser({ ...user,\n      [name]: value,\n      err: '',\n      success: ''\n    });\n  };\n\n  const registerSubmit = async e => {\n    e.preventDefault();\n    if (isEmpty(name) || isEmpty(password)) return setUser({ ...user,\n      err: \"Please fill in all fields\",\n      success: \"\"\n    });\n\n    try {\n      await axios.post('/user/register', { ...user\n      });\n      localStorage.setItem('firstLogin', true);\n      window.location.href = \"/\";\n    } catch (err) {\n      alert(err.response.data.msg);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login-page\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: registerSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 17\n    }\n  }, \"Register\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"name\",\n    required: true,\n    placeholder: \"Name\",\n    value: user.name,\n    onChange: onChangeInput,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    name: \"email\",\n    required: true,\n    placeholder: \"Email\",\n    value: user.email,\n    onChange: onChangeInput,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    name: \"password\",\n    required: true,\n    autoComplete: \"on\",\n    placeholder: \"Password\",\n    value: user.password,\n    onChange: onChangeInput,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    name: \"repassword\",\n    required: true,\n    autoComplete: \"on\",\n    placeholder: \"Password Again\",\n    value: user.repassword,\n    onChange: onChangeInput,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 18\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 21\n    }\n  }, \"Register\"), /*#__PURE__*/React.createElement(Link, {\n    to: \"/login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 21\n    }\n  }, \"Login\"))));\n}\n\nexport default Register;","map":{"version":3,"sources":["/home/phuocnghia712/PBL6_Toystore/client/src/components/mainpages/auth/Register.js"],"names":["React","useState","Link","axios","isEmpty","initialState","name","email","password","repassword","err","success","Register","user","setUser","onChangeInput","e","value","target","registerSubmit","preventDefault","post","localStorage","setItem","window","location","href","alert","response","data","msg"],"mappings":"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","sourcesContent":["import React, {useState} from 'react'\nimport {Link} from 'react-router-dom'\nimport axios from 'axios'\nimport { isEmpty } from '../../untils/check/check'\n\n////initial state\nconst initialState = {\n    name : '',\n    email:'',\n    password: '',\n    repassword: '',\n    err: '',\n    success : '',\n}\n\nfunction Register() {\n    const [user, setUser] = useState({initialState})\n    const {name,email,password,repassword,err,success} = user;\n    const onChangeInput = e =>{\n        const {name, value} = e.target;\n        setUser({...user, [name]:value,err:'',success:''})\n    }\n\n    const registerSubmit = async e =>{\n        e.preventDefault()\n        if(isEmpty(name)||isEmpty(password)) return setUser({...user,err: \"Please fill in all fields\",success : \"\"})\n\n        try {\n            await axios.post('/user/register', {...user})\n\n            localStorage.setItem('firstLogin', true)\n\n            \n            window.location.href = \"/\";\n        } catch (err) {\n            alert(err.response.data.msg)\n        }\n    }\n\n    return (\n        <div className=\"login-page\">\n            <form onSubmit={registerSubmit}>\n                <h2>Register</h2>\n                <input type=\"text\" name=\"name\" required\n                placeholder=\"Name\" value={user.name} onChange={onChangeInput} />\n\n                <input type=\"email\" name=\"email\" required\n                placeholder=\"Email\" value={user.email} onChange={onChangeInput} />\n\n                <input type=\"password\" name=\"password\" required autoComplete=\"on\"\n                placeholder=\"Password\" value={user.password} onChange={onChangeInput} />\n                \n                 <input type=\"password\" name=\"repassword\" required autoComplete=\"on\"\n                placeholder=\"Password Again\" value={user.repassword} onChange={onChangeInput} />\n                \n                <div className=\"row\">\n                    <button type=\"submit\">Register</button>\n                    <Link to=\"/login\">Login</Link>\n                </div>\n            </form>\n        </div>\n    )\n}\n\nexport default Register"]},"metadata":{},"sourceType":"module"}